@page "/"
@using EuropArt.Shared.Artist
@using System.Globalization
@inject IArtistService ArtistService

@using EuropArt.Shared.Artworks
@inject IArtworkService ArtworkService
@inject IStringLocalizer<Resources.Home> Loc 

<div id="homepage">
    <div class="row">
        <div class="col-12">
            <div class="banner mb-5" style="background-image:url(images/banner.jpg);">
                <div class="text">
                    <h1>@Loc["ArtBringsLive"]</h1>
                    <span class="small-banner-text">@Loc["ForReal"]</span>
                </div>
            </div>
        </div>
        <div class="col-12 text-center">
            <h2>@Loc["Latest"]</h2>
        </div>
        <div class="col-4">
            <div class="badge-kunstwerk">
                <a href="#"><img src="images/img_x300_615b0f51057766-33663549-37540512.jpg"></a>
                <div class="k-p">
                    <h2 class="kunstenaar">by Toon Decock</h2>
                    <span class="prijs">&euro; 100</span>
                </div>
                <span class="naam">Unbranded Fresh Cheese</span>
            </div>
        </div>
        <div class="col-4">
            <div class="badge-kunstwerk">
                <a href="#"><img src="images/img_x500_615acf2b92d903-60438090-38681861.jpg"></a>
                <div class="k-p">
                    <h2 class="kunstenaar">by Toon Decock</h2>
                    <span class="prijs">&euro; 100</span>
                </div>
                <span class="naam">Unbranded Fresh Cheese</span>
            </div>
        </div>
        <div class="col-4">
            <div class="badge-kunstwerk">
                <a href="#"><img src="images/img_x500_615ad73aa4ac97-98988702-54431046.jpg"></a>
                <div class="k-p">
                    <h2 class="kunstenaar">by Toon Decock</h2>
                    <span class="prijs">&euro; 100</span>
                </div>
                <span class="naam">Unbranded Fresh Cheese</span>
            </div>
        </div>




        <div class="col-12 text-center">
            <h2>@Loc["FeaturedArtworks"]</h2>
        </div>
        <div class="row">
            @if (_artworks is null)
            {
                <p>Loading...</p>
            }
            else
            {
                @for (var i = 0; i < 3; i++)
                {
                    <div class="kol col-4">
                        <div class="badge-kunstwerk">
                            <a href="artwork/@_artworks.ElementAt(i).Id"><img src="@_artworks.ElementAt(i).ImagePath"></a>
                            <div class="k-p">
                                <h2 class="kunstenaar">by @*@_artworks.ElementAt(i).Name*@</h2>
                                <span class="prijs">@_artworks.ElementAt(i).Price.ToString("C")</span>
                            </div>
                            <span class="naam">@_artworks.ElementAt(i).Name</span>
                        </div>
                    </div>
                }
            }

        </div>





        <div class="col-12 text-center">
            <h2>@Loc["FeaturedArtists"]</h2>
        </div>
        <div class="row">
            @if (_artists is null)
            {
                <p>Loading...</p>
            }
            else
            {
                @for (var i = 0; i < 3; i++)
                {
                    <div class="col-4 text-center">
                        <div class="badge-kunstenaars">
                            <div class="profile-pic">
                                <a href="/artist/@_artists.ElementAt(i).Id"><img src="@_artists.ElementAt(i).ImagePath" /></a>
                            </div>
                            <h2>@_artists.ElementAt(i).Name</h2>
                            <span class="locatie"><img src="images/locate.svg" /> @_artists.ElementAt(i).City</span><br />
                            <span class="kunstwerken">50 kunstwerken</span>
                        </div>
                    </div>
                }
            }
        </div>




    </div>
</div>




@code {
    private IEnumerable<ArtistDto.Index> _artists;

    private IEnumerable<ArtworkDto.Index> _artworks;

    protected override async Task OnInitializedAsync()
    {
        _artists = await ArtistService.GetIndexAsync();
        _artworks = await ArtworkService.GetIndexAsync();
    }




}
